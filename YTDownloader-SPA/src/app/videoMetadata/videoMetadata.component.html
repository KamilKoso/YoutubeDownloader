<div class="cointainer">
 <div class="row">
   <div class="col-md-12 mt-5">

    <div class="text-center" *ngIf="videoUrlvalidate.errors?.pattern && videoUrlvalidate.touched"><i class="fa fa-exclamation"></i> Invalid URL</div>
    <div class="text-center" *ngIf="videoUrlvalidate.errors?.required && videoUrlvalidate.touched"><i class="fa fa-exclamation"></i>Provide Youtube URL</div>
    <div class="text-center" *ngIf=(getMetadataFailed)><i class="fa fa-exclamation"></i>Failed to parse video</div>

    <form #urlForm="ngForm" class="form-inline justify-content-center" (ngSubmit)="getMetadata()" >
      <input class="form-control mr-sm-2 w-50" type="text" name="videoUrl" placeholder="Provide your URL" [(ngModel)]="videoUrl"  #videoUrlvalidate='ngModel' pattern="^((?:https?:)?\/\/)?((?:www|m)\.)?((?:youtube\.com|youtu.be))(\/(?:[\w\-]+\?v=|embed\/|v\/)?)([\w\-]+)(\S+)?$" required >
        <button class="btn my-2 my-sm-0" type="submit" [ngClass]="(videoUrlvalidate.errors?.pattern && videoUrlvalidate.touched) ? 'btn-danger': 'btn-outline-success'" [disabled]="videoUrlvalidate.errors?.pattern && videoUrlvalidate.touched" >Parse Video</button>
    </form>
  </div>
 </div>

<div *ngIf="videoMetadata">
 <div class="row">
  <div class="col-md-12 justify-content-center d-flex align-items-center">
    <img src="{{videoMetadata.thumbnails.mediumResUrl}}" class="img-fluid" style="height: 70%;">
    <p class="lead font-weight-bold">{{videoMetadata.title}}</p>
  </div>
 </div>

 <div class="row">
  <div class="col-md-12">
    <form #videoForm='ngForm' class="justify-content-center form-inline" (ngSubmit)="downloadFile()">
     <div class="p-1 btn-group btn-group-toggle" data-toggle="buttons" *ngFor="let item of videoMetadata.qualities">
     <label class="btn form-inline" [ngClass]="selectedQuality==item ? 'btn-success' : 'btn-secondary' "><input type="radio" [(ngModel)]="selectedQuality" name="quality" value="{{item}}" required>{{item}}</label>
     </div>
     <div class="w-100 d-flex justify-content-center">
     <button *ngIf="selectedQuality" class="btn btn-outline-info my-2 my-ms-0" type="submit">Download video</button>
     </div>
    </form>
   </div>   
  </div>
 </div>

 <div class="row">
   <div class="col-md-12">
     <div *ngIf="status!=undefined">
     <div [ngSwitch]="status">
       <div *ngSwitchCase="VideoDownloadStatus.DownloadingToTheServer">Downloading to the server</div>
       <div *ngSwitchCase="VideoDownloadStatus.DownloadingFromServer">Your video is prepared to download</div>
       <div *ngSwitchCase="VideoDownloadStatus.DownloadingComplete">Downloading completed !</div>
       <div *ngSwitchCase="VideoDownloadStatus.DownloadingError">Downloading error</div>
     </div>
    </div>
   </div>
 </div>
</div>